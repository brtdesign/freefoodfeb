$(document).ready(function(){setupMasonary(),$(".theme__holder").removeClass("loading"),$(".theme__card__header").arctext({radius:280}),themeListener()}),setupMasonary=function(){var e=$(".theme__holder");e.imagesLoaded(function(){e.masonry({itemSelector:".theme__card"})})},themeListener=function(){$("#js-themes-nav").click(function(e){e.preventDefault(),removeThemePage()}),$(".theme__card__link").click(function(e){e.preventDefault(),$(this).addClass("visited"),fadeCard($(this).parent(),"0.5","0");var t=$(this).attr("href");fadeAllThumbs("out",t)})},fadeCard=function(e,t,a){e.transition({scale:t,opacity:a},275,"easeOutSine")},fadeAllThumbs=function(e,t){if("out"==e)var a="0.5",n="0",i="1",o="-16px",r="1050";else var a="1",n="1",i="0",o="-172px",r="0";$.each(cardArray,function(i,o){setTimeout(function(){fadeCard($(o),a,n),i+1==cardArray.length&&"out"==e&&loadThemePage(t)},125*(i+1))}),setTimeout(function(){$("#js-themes-nav").transition({opacity:i,left:o},350)},r)},loadThemePage=function(e){var t=e+" .menu";$(".theme__holder").append('<div class="menu__holder"></div>'),$(".menu__holder").load(t,function(){$(".menu__card__header").arctext({radius:720}),$(".menu").transition({opacity:1,left:"240px",visibility:"visible",rotate:"-3deg"},320),recipeClickEvents()})},removeThemePage=function(){$(".menu").transition({opacity:0,visibility:"hidden",rotate:"3deg"},225,function(){$(".menu__holder").remove(),fadeAllThumbs("in")})},recipeClickEvents=function(){$(".recipe-loader").click(function(e){e.preventDefault();var t=$(this).attr("href");animateMenu(t)})},animateMenu=function(e){$(".menu").transition({scale:.65,left:0,rotate:"1deg"},255,function(){loadRecipe2(e)})},loadRecipe=function(e){$(".recipe__holder").length<1&&($(".menu").after('<div class="recipe__holder">recipe here</div>'),console.log(e),loadFragment=e+" #main",$(".recipe__holder").load(loadFragment,function(){console.log("load inf complete"),$(this).transition({opacity:1},255)}))},loadRecipe2=function(e){console.log(e),$.ajax({url:e,jsonp:"callback",dataType:"jsonp",data:{q:"",format:"html"},success:function(e){console.log(e)}})};var cards=$(".theme__card"),cardArray=$.makeArray(cards);
